开机引导GRUB
###############

:title: 开机引导GRUB
:date: 2017-07-29 15:00
:category: 整理
:tags: GRUB
:author: Hanbin


这篇文章写的极不负责任。

在安装Linux与Windows双系统时出现了一些引导问题，查到一些解决方法后，就顺手记载下来。

一知半解，不明就里。所以仅限于我个人参考。

-----

电脑开机后，主要有以下几个步骤来实现系统引导并启动。

:: 

    1. 接通电源。
    2. BIOS加电，自检。
    3. 由BIOS将启动磁盘(硬盘或U盘等)的第一个扇区，即MBR读入内存。
    4. 由BIOS跳转到MBR所在处并执行。
    5. MBR将搜索磁盘主分区表中的活动分区。若没有活动分区，或者活动分区多于一个，则停止。
    6. MBR将活动分区的第一个扇区，即系统启动程序读入内存。
    7. 由MBR跳转到系统启动程序，启动系统。


一般来说我们遇到的引导问题，都是发生在上述第3项之后。

大致有下面这几种情形：

:: 

    1. MBR被破坏，BIOS找不到可执行的程序。
    2. 磁盘主分区表被破坏，MBR找不到活动分区。
    3. 系统损坏。


首先看一下第一种情况。

Linux与Windows都有自己的MBR程序，即GRUB与NTLOADER。


一般来说，GRUB会自动检测硬盘上都安装了那些操作系统，连Windows也可已检测出来。
之后会对所有系统都设置引导。开机后可以选择不同系统进入。


而NTLOADER默认情况下并不会主动检测硬盘上是否还有其他系统，它只会引导本次安装的系统。(现象是这个样子的。。)

这也是安装Windows与Linux双系统时，先装Windows，后装Linux，并由Linux中的GRUB来引导Windows的原因。

第二种情况虽然MBR是正常的，但MBR想要引导的磁盘分区并不是一个有效分区，或者不是一个活动分区。
这种情况下就需要对此份分区进行修复，或者将装有系统的分区设置为活动分区。

第三种情况就没什么办法了，系统本身损毁，并不属于引导问题。需要修复或者重装了。

不管哪种情况，都要注意数据安全问题。在操作之前要仔细反复想三遍，有没有重要数据没有备份。


以上。

20170729

热
